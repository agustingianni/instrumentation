CodeCoverage pintool that exports a json JSON file with information regarding
the instructions executed by a process.

The pintool produces a generic JSON file, that contains the address of the instructions executed.
This JSON file can then be imported into IDA Pro using one of the scripts located in the "scripts" 
directory.

This tool aims to facilitate locating intersting parts of a program without incuring in too much
instrumentation overhead. For this reason the pintool can be instructed to only instrument those
modules inside a whitelist.

Example usage: Here we run the pintool from the command line and we specify that only the 'test1'
image should be instrumented. This improves performance and reduce the amount of information collected.

anon@macbook$ pin -t obj-intel64/CodeCoverage.dylib -w test1 -- ../test_binaries/test1
CodeCoverage tool by Agustin Gianni (Preto Inc.)
White-listing image: test1
Logging code coverage information to: log.json

anon@macbook$ ls -l log.json
-rw-r--r--  1 anon  staff  99843 Dec 10 14:41 log.json

anon@macbook$ cat log.json
{
	"threads" :
	[
		{
			"tid" : 0,
			"hits" :
			[
				4340890956, 4340890909, 4340890862, 4340891334, 4340891056, 4340891340, 4340891248, 4340891296, 4340891109,
				4340890973, 4340891021, 4340890929, 4340890882, 4340890835, 4340891071, 4340890985, 4340891033, 4340891316,
				4340891269, 4340890800, 4340891322, 4340890997, 4340891280, 4340890951, 4340890904, 4340890857, 4340891328,
				4340891094
			]
		}
	],
	"images" :
	[
		{"name" : "/Users/anon/work/presentations/training_ch/instrumentation/tools/test_binaries/test1", "lo_addr" : 4340887552, "hi_addr" : 4340895743},
		{"name" : "/usr/lib/dyld", "lo_addr" : 140734980608000, "hi_addr" : 140734981066751},
	]
}

As it can be apreciated in the logfile, we have both information about the trace hits and information about the
loaded images (in the example some entries were removed for clarity). This is because when importing the
information into IDA Pro we need to accomodate the addresses to the base address in the IDB. Due to ASLR
the addresses won't probably match.
